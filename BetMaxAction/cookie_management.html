<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
    <meta charset="utf-8" />
    <meta content='IE=edge,chrome=1' http-equiv='X-UA-Compatible' />
    <title></title>
    <link rel="preconnect" href="https://fonts.gstatic.com">
    <link href="https://fonts.googleapis.com/css2?family=Graduate&display=swap" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Rye&display=swap" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Quicksand:wght@300;400;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="css/main.css?20201221" type="text/css" />
    <link rel="stylesheet" href="css/responsive.css?20201221" type="text/css" />
    <!-- FONT AWESOME -->
    <link href="font-awesome/css/fontawesome.css" rel="stylesheet">
</head>
<body>
    <header>
        <div class="top_pad"></div>
        <div id="logo" class="dark-logo-bg">
            <a href="/">
                <img src="images/logo.png" alt="Bet Max Action | Where the small guy plays large!"></a>
        </div>
        <div id="profile" class="lightgrey-bg">
            <div id="userprofile_details">
                <h2 id="userprofile_details_name">Scott Freeman</h2>
                <div id="additionaldetails">
                    <div>Balance: $<span id="userprofile_details_balance">250</span></div>
                    
                </div>
            </div>
            <div id="userprofile" class="white-text">
                <div id="userprofile_image">
                    <span class="fa-icon"><i class="fas fa-user-circle"></i></span>
                </div>

            </div>
            <div id="notifications" class="white-text">
                <div><span class="fa-icon"><i class="far fa-bell"></i></span><br /><span class="fa-icon show-asterick"><i class="fas fa-asterisk" style="font-size: 16px; margin-left: 7px;"></i></span></div>

                <div id="hasNotifications" class="yellow-text"></div>
            </div>
            
            
        </div>
    </header>
    
    <div id="notification_list">
        <div class="notification">
            <div class="notification_left">
                <i class="fal fa-sack-dollar"></i>
            </div>
            <div class="notification_right">
                <div class="n_header">You won $100</div>
                <div class="n_subject">You placed in 2 tournaments</div>
            </div>
        </div>
        <div style="clear: both;"></div>
        <div class="notification">
            <div class="notification_left">
                <i class="fal fa-sack-dollar"></i>
            </div>
            <div class="notification_right">
                <div class="n_header">$50 Hail Mary: Minimum Risk Requirement not met, wager 1000 $TD to qualify for a prize!</div>
                <div class="n_subject"><a href="contest_details.html">View Contest</a></div>
            </div>
        </div>
        <div style="clear: both;"></div>
    </div>
    <div style="clear: both;"></div>
    <main>
        <div id="leftnav" class="lightgrey-bg white-text">
            <div id="leftnav_top">
                <div class="navitem active"><span class="fa-icon"><i class="fas fa-home"></i></span><a href="tournament_lobby.html">Tournament Lobby</a> </div>
                <div class="navitem"><span class="fa-icon"><i class="fas fa-list"></i></span><a href="my_contests.html">My Contests</a></div>
                <div class="navitem"><span class="fa-icon"><i class="fas fa-cash-register"></i></span><a href="cashier.html">Cashier</a></div>
                <div class="navitem"><span class="fa-icon"><i class="fas fa-phone"></i></span><a href="contact_us.html">Contact Us</a></div>
            </div>
            <div id="leftnav_bot white-text">
                <div class="navitem"><span class="fa-icon"><i class="fas fa-sliders-h"></i></span><a href="settings.html">Settings</a></div>
                <div class="navitem"><span class="fa-icon"><i class="fas fa-question-circle"></i></span><a href="faqs.html">FAQ</a></div>
            </div>
        </div><!--End: #leftnav -->
        <div id="main" class="darkgrey-bg">
            <div class="table_header">
                <h1>Cookie Management</h1>
                
            </div>
            <div id="cookiemanagement">
                <div>Version 1.3</div>
                    <form onsubmit="javascript:SetCookie();return false;">
                       Username: <input type="text" id="cookieusername" /><br />
                       Balance: <input type="text" id="cookiebalance" /><br />
                        <input type="submit" id="submit_btn" /><br />
                    </form>

                <form onsubmit="javascript:UpdateBalance();return false;">
                      Subtract from balance:  <input type="text" id="subtractbalance" /><br />
                        <input type="submit" id="submit_btn2" /><br />
                    </form>
                </div>
           
        </div><!--End: #main -->
        <div id="modal_enter_contest" class="darkgrey-bg bets_html_for_modal-hidden modal">
            <div class="modal_content">
                <div class="modal_header">
                    <h1>Enter Contest</h1>
                </div>
                <div class="modal_details">
                    <div id="inner_bet_details">
                        <div class="inner_contest_name">You are entering: <span class="inner_contest_name_value">Contest Name</span></div>
                        <div class="inner_contest_message">Your account will be deducted <span class="inner_contest_amount_value"></span></div>
                    </div>
                    <div class="modal_actions"><a href="my_contests.html" class="modal_button buttonlink">Enter Contest <span><i class="fas fa-arrow-right"></i></span></a><br /><a href="javascript:CancelEntry();" class="modal_button buttonlink">Cancel Entry <span><i class="fas fa-arrow-right"></i></span></a></div>
                </div>
            </div>
        </div>
    </main>
    <footer>
    </footer>
    <style>

        .modal_button {
            background-color: #006f3d;
    padding: 10px;
    margin: 10px 0px;
    float: left;
        }
        .modal_action {
            margin-top: 20px;
        }
        .modal_header {
            margin: 10px 10px;
        }

        .modal_details {
            margin: 10px 10px;
        }
        #modal_enter_contest {
            position: absolute;
	        box-sizing: border-box;
	        color: white;
	        
	        line-height: normal;
            top: 300px;
            left: 400px;
            width: 300px;
            border: #006f3d 5px solid;
                border-radius: 40px;
                padding:20px;
        }

        #modal_details a {
                padding: 0px 10px;
                text-decoration: none;
                font-size: 20px;
                text-align: center;
            }
    </style>
    <script src="js/jquery-3.5.1.min.js" type="text/javascript"></script>
    <script src="js/jquery-core.js" type="text/javascript"></script>
    <script src="js/isotope.pkgd.min.js" type="text/javascript"></script>
    <script src="js/CookieManagement.js" type="text/javascript"></script>
    <script>

        // RESOURCES SORTING
        $(window).load(function () {



            // init Isotope
            var $container = $('#r_contests').isotope({
                itemSelector: '.contest',
                layoutMode: 'vertical',
                sortAscending: false,
                getSortData: {
                    name: '.rname',
                    type: function (itemElem) {
                        var text = $(itemElem).find('.rtype').text().replace('$', '').replace(',', '');
                        return parseFloat(text);
                    },
                    dollars: function (itemElem) {
                        var text = $(itemElem).find('.rdollars').text().replace('$', '').replace(',', '');
                        return parseFloat(text);
                    },
                    entries: function (itemElem) {
                        var text = $(itemElem).find('.rentries').text().replace('$', '').replace(',', '');
                        return parseFloat(text);
                    },
                    prizepools: function (itemElem) {
                        var text = $(itemElem).find('.rprizepool').text().replace('$', '').replace(',', '');
                        return parseFloat(text);
                    },
                    date: function (itemElem) {
                        return Date.parse($(itemElem).find('.rdate').text());
                    }
                }
            });






            // bind sort button click
            $('.sort').click(function () {

                var sortValue = $(this).attr('data-sort-value');
                $container.isotope({ sortBy: sortValue });

                var direction = $(this).attr('data-sort-direction');

                var isAscending = (direction == 'asc');
                var newDirection = (isAscending) ? 'desc' : 'asc';

                $container.isotope({ sortBy: sortValue, sortAscending: isAscending });

                $(this).attr('data-sort-direction', newDirection);

            });

            $('.filter').click(function () {
                var filterBy = $(this).attr('data-filter-by');
                $container.isotope({ filter: filterBy });

            });

        });
        $(document).ready(function () {

            $.urlParam = function (name) {
                var results = new RegExp('[\?&]' + name + '=([^&#]*)')
                                  .exec(window.location.search);

                return (results !== null) ? results[1] || 0 : false;
            }

            var showasterick = $.urlParam('showasterick');

            if (showasterick == 'Y' || showasterick == 'T' || showasterick == '1') {
                $(".show-asterick").show();
            } else {
                $(".show-asterick").hide();
            }
        });

        $(document).ready(function () {

            $("#userprofile_image").click(function () {


            });

            setHeader();
        });

        $(document).ready(function () {

            $("#notifications").click(function () {
                var X = $(this).attr('click');
                if (X == 1) {
                    $("#notification_list").hide();
                    $(this).attr('click', '0');
                }
                else {
                    //$("#userprofile_details").hide(); // ensure that two windows aren't open
                    $("#notification_list").show();
                    $(this).attr('click', '1');
                }
                $(".show-asterick").hide();
            });
        });

        function SetCookie() {
            var username = $("#cookieusername").val();
            var balance = $("#cookiebalance").val();
            var value = 'name=' + username + '|balance=' + balance+';';
            //alert('Setting Cookies: name=' + username + ';balance=' + balance);
            createCookie('complianceCookieBMA', value, 120);
            setHeader();
        }

        function UpdateBalance() {
            //get balance and name
            var balance = $("#userprofile_details_balance").html();
            alert('balance=' + balance);
            var username = $("#userprofile_details_name").html();
            alert('username=' + username);
            var inputEntryFee = $("#subtractbalance").html();
            alert('inputEntryFee=' + inputEntryFee);
            balance = balance - inputEntryFee;
            alert('final balance=' + balance);
            //subtract from balance
            var value = 'name=' + username + '|balance=' + balance + ';';
            //alert('Setting Cookies: name=' + username + ';balance=' + balance);
            createCookie('complianceCookieBMA', value, 120);
            setHeader();
        }

        function setHeader() {
            var cookieValues = checkCookie('complianceCookieBMA');
            var cookieValueArray = cookieValues.split('|');
            var balance = '';
            var username = '';
            for (var i = 0; i < cookieValueArray.length; i++) {
                var cookieValue = cookieValueArray[i];
                var nameValuesArray = cookieValue.split('=');
                var varname = nameValuesArray[0];
                var varvalue = nameValuesArray[1];
                //alert('varname=' + varname + ';varvalue=' + varvalue);
                if (varname == 'balance') {
                    balance = varvalue;
                }

                if (varname == 'name') {
                    username = varvalue;
                }
                
            }
           
            $("#userprofile_details_balance").html(balance);
            $("#userprofile_details_name").html(username);

        }

        function EnterContest(contestName, entryFee, url) {

            $(".inner_contest_name_value").html(contestName.toString().replaceAll('%20', ' '));

            $(".inner_contest_amount_value").html(entryFee.toString().replaceAll('%20', ' '));

            var place_bet_html = $('#modal_enter_contest');


            place_bet_html.toggleClass("bets_html_for_modal-hidden", "bets_html_for_modal-visible");


        }

        function CancelEntry() {
            var place_bet_html = $('#modal_enter_contest');


            place_bet_html.toggleClass("bets_html_for_modal-hidden", "bets_html_for_modal-visible");
        }

    </script>
</body>
</html>
